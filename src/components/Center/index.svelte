<script>
  /**
   * Used to horizontally its contents.
   *
   * @component
   */

  /**
   * Maximum width of contents.
   */
  export let centerMeasure = "";
  /**
   * Padding left and right around contents.
   */
  export let centerSpace = "";
  /**
   * If true applied flexbox column, align-items: center
   * to intrinsically center elements within the Center
   * component which are not full width. Any margin between
   * child elements will have to be applied without a Stack component.
   */
  export let intrinsicallyCenter = false;

  let centerMeasureComponent = centerMeasure.length
    ? `--center-measure--component: ${centerMeasure};`
    : "";
  let centerSpaceComponent = centerSpace.length
    ? `--center-space--component: ${centerSpace};`
    : "";
  let style = `${centerMeasureComponent} ${centerSpaceComponent}`;

</script>

<style>
  :global(:root) {
    --center-measure--global: var(--measure);
    --center-space--global: var(--s-1);
  }

  .center {
    --center-measure--component: initial;
    --center-space--component: initial;
    --center-measure: var(
      --center-measure--component,
      var(--center-measure--global, 60ch)
    );
    --center-space: var(
      --center-space--component,
      var(--center-space--global, 1rem)
    );

    box-sizing: content-box;
    max-width: 60ch;
    max-width: var(--center-measure);
    padding-right: 1rem;
    padding-right: var(--center-space);
    padding-left: 1rem;
    padding-left: var(--center-space);
    margin-right: auto;
    margin-left: auto;
  }

  .center--intrinsically-center {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

</style>

<div
  class="center"
  class:center--intrinsically-center={intrinsicallyCenter}
  {style}
>
  <slot />
</div>
